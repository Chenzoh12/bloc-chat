<link rel="stylesheet" href="/styles/home.css">
<main class="home-page container-fluid">
    <div class = "row whole-screen">

        <div class="left-panel col-md-4">
            <div class = "left-panel-header row">
                <div class = "col-sm-offset-2">
                    <h3 class="col-sm-6"> Bloc Chat </h4>
                    <button type="button" class="col-sm-3 btn btn-default top-buffer" ng-click="roomControl.open()">New Room</button>
                </div>
            </div>
            <ul class = "row">
                <li ng-repeat="room in roomControl.roomList">
                    <!-- ne function that calls both functions -->
                    <span ng-click="roomControl.setActiveRoom(room); roomControl.messages.getByRoomId(room.$value)">{{ room.$value }} </span>
                </li>
            </ul>
        </div>


        <div class="chatoom-view col-md-8">
            <h3>{{ roomControl.activeRoom.name }}</h1>
            <div class="message-container">
              <div class="chat-view-message" ng-repeat="message in roomControl.messages.all">
                  <span class="chat-message-user"><b>{{ message.username }}</b></span>
                  <span class="chat-message-time"><i>{{ message.sentAt | date:'short' }}</i></span>
                  <span class="chat-message-content">{{ message.content }}</span>
              </div>
          </div>
        </div>

    </div>
</main>
